
// VARIABLE ARGUMENT HELPERS
// ap va_list = undef
// va_start ap
// va_start(ap)
// va_end ap
// va_end(ap)
// va_arg(ap, Type)
// va_copy(dest, src)

import basics

func main {
    print(sizeof va_list)
    print(addEmUp(4, 10, 11, 12, 13))
}

func addEmUp(count usize, ...) int {
    ap, ap2 va_list
    sum int

    va_start ap
    defer va_end ap

    va_copy(ap2, ap)

    repeat count {
        sum += va_arg(ap, int)
        sum += va_arg(ap2, int)
    }

    return sum
}
